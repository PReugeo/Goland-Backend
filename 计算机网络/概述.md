# 网络的网络

网络把主机连接起来，而互连网把多种不同的网络里按揭起来，因此互连网是网络的网络。互联网是全球范围的互连网。

# ISP

ISP 就是互联网服务商，它从互联网管理结构获得许多 IP 地址，同时拥有通信线路以及路由器等联网设备。

目前互联网是一种多层次 ISP 结构，由第一层、区域 ISP 和接入 ISP 组成。

 

# 主机之间的通信方式

C/S （ 客户-服务器 ）

P2P （ 对等 ）

# 电路交换和分组交换

## 1. 电路交换

电路交换用于电话通信系统，两个用户通信之前要建立一条专用物理链路，在整个通信过程中始终占用该链路。由于通信过程中不可能一直使用传输线路，所以电路交换对线路利用率很低。

## 2. 分组交换

每个分组有首部和尾部，包含了源地址和目的地址等控制信息，在同一传输线路上同时传输多个分组互不影响，因此同一传输线路允许同时传输多个分组，也就是说分组交换不需要占用传输链路。所以线路利用率比较高。

# 时延

总时延 = 排队时延 + 处理时延 + 传输时延 + 传播时延

# 计算机网络体系架构

![img](0fa6c237-a909-4e2a-a771-2c5485cd8ce0.png)

## 1. 五层协议

五层协议包含： 应用层、运输层、网络层、数据链路层和物理层。

**应用层：**

HTTP、DNS 等协议。数据单位为报文。

**传输层：**

为进程提供通用数据传输服务。

主要为传输控制协议TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段。

用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。

TCP 主要提供完整性服务，UDP 主要提供及时性服务。

**网络层**

为主机提供数据传输服务。而传输层协议是为主机中的进程提供数据传输服务。网络层把传输层传递下来的报文段或者用户数据报封装成分组。

**数据链路层**

链路层协议为同一链路的主机提供数据传输服务。数据链路层把网络层传下来的分组封装成帧。

**物理层**

尽可能屏蔽传输媒体和通信手段的差异，使数据链路层不会感觉到这些差异。

## 2. OSI

OSI 在五层协议基础上在应用层下增加了表示层和会话层，作用如下：

1. 表示层： 数据压缩、加密以及数据描述，这使得应用程序不必关系在各台主句中数据内部格式不同的问题。
2. 会话层： 建立以及管理会话。

五层协议中没有这两层的原因是，将这两层交给开发者处理。

## 3. TCP/IP

它将五层协议中的数据链路层以及物理层合并为网络接口层。

TCP/IP 体系结构不严格遵循 OSI 分层概念，应用层可能会直接使用 IP 层或者网络接口层。

![img](概述.assets/48d79be8-085b-4862-8a9d-18402eb93b31.png)

## 4. 数据在各层之间的传递过程

在向下的过程中，需要天界下层协议所需要的首部或者尾部，而在向上过程中不断拆开首部和尾部。

路由器只有下面三层协议，因为路由器位于网络核心中，不需要为进程或者应用程序提供服务，因此也就不需要传输层和应用层。